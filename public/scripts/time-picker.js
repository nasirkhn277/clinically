!function(e){"function" == typeof define && define.amd?define(["jquery"], e):e(jQuery)}(function(e){function i(e){if (e.minTime && (e.minTime = k(e.minTime)), e.maxTime && (e.maxTime = k(e.maxTime)), e.durationTime && "function" != typeof e.durationTime && (e.durationTime = k(e.durationTime)), e.disableTimeRanges.length > 0){for (var i in e.disableTimeRanges)e.disableTimeRanges[i] = [k(e.disableTimeRanges[i][0]), k(e.disableTimeRanges[i][1])]; e.disableTimeRanges = e.disableTimeRanges.sort(function(e, i){return e[0] - i[0]}); for (var i = e.disableTimeRanges.length - 1; i > 0; i--)e.disableTimeRanges[i][0] <= e.disableTimeRanges[i - 1][1] && (e.disableTimeRanges[i - 1] = [Math.min(e.disableTimeRanges[i][0], e.disableTimeRanges[i - 1][0]), Math.max(e.disableTimeRanges[i][1], e.disableTimeRanges[i - 1][1])], e.disableTimeRanges.splice(i, 1))}return e}function t(i){var t = i.data("timepicker-settings"), r = i.data("timepicker-list"); if (r && r.length && (r.remove(), i.data("timepicker-list", !1)), t.useSelect){r = e("<select />", {"class":"ui-timepicker-select"}); var s = r} else{r = e("<ul />", {"class":"ui-timepicker-list"}); var s = e("<div />", {"class":"ui-timepicker-wrapper", tabindex: - 1}); s.css({display:"none", position:"absolute"}).append(r)}t.noneOption && (t.useSelect?r.append(e('<option value="">Time...</option>')):r.append(e("<li>None</li>"))), t.className && s.addClass(t.className), null === t.minTime && null === t.durationTime || !t.showDuration || s.addClass("ui-timepicker-with-duration"); var o = t.minTime; "function" == typeof t.durationTime?o = k(t.durationTime()):null !== t.durationTime && (o = t.durationTime); var l = null !== t.minTime?t.minTime:0, u = null !== t.maxTime?t.maxTime:l + b - 1; l >= u && (u += b), u === b - 1 && - 1 !== t.timeFormat.indexOf("H") && (u = b); for (var p = t.disableTimeRanges, d = 0, v = p.length, T = l; u >= T; T += 60 * t.step){var y = T, w = h(y, t.timeFormat); if (t.useSelect){var H = e("<option />", {value:w}); H.text(w)} else{var H = e("<li />"); H.data("time", 86400 >= y?y:y % 86400), H.text(w)}if ((null !== t.minTime || null !== t.durationTime) && t.showDuration){var C = g(T - o); if (t.useSelect)H.text(H.text() + " (" + C + ")");  else{var R = e("<span />", {"class":"ui-timepicker-duration"}); R.text(" (" + C + ")"), H.append(R)}}v > d && (y >= p[d][1] && (d += 1), p[d] && y >= p[d][0] && y < p[d][1] && (t.useSelect?H.prop("disabled", !0):H.addClass("ui-timepicker-disabled"))), r.append(H)}if (s.data("timepicker-input", i), i.data("timepicker-list", s), t.useSelect)r.val(a(i.val(), t)), r.on("focus", function(){e(this).data("timepicker-input").trigger("showTimepicker")}), r.on("blur", function(){e(this).data("timepicker-input").trigger("hideTimepicker")}), r.on("change", function(){m(i, e(this).val(), "select")}), i.hide().after(r);  else{var D = t.appendTo; "string" == typeof D?D = e(D):"function" == typeof D && (D = D(i)), D.append(s), c(i, r), r.on("click", "li", function(t){i.off("focus.timepicker"), i.on("focus.timepicker-ie-hack", function(){i.off("focus.timepicker-ie-hack"), i.on("focus.timepicker", x.show)}), n(i) || i[0].focus(), r.find("li").removeClass("ui-timepicker-selected"), e(this).addClass("ui-timepicker-selected"), f(i) && (i.trigger("hideTimepicker"), s.hide())})}}function a(i, t){if (e.isNumeric(i) || (i = k(i)), null === i)return null; var a = 60 * t.step; return h(Math.round(i / a) * a, t.timeFormat)}function r(){return new Date(1970, 1, 1, 0, 0, 0)}function s(i){var t = e(i.target), a = t.closest(".ui-timepicker-input"); 0 === a.length && 0 === t.closest(".ui-timepicker-wrapper").length && (x.hide(), e(document).unbind(".ui-timepicker"))}function n(e){var i = e.data("timepicker-settings"); return(window.navigator.msMaxTouchPoints || "ontouchstart"in document) && i.disableTouchKeyboard}function o(i, t, a){if (!a && 0 !== a)return!1; var r = i.data("timepicker-settings"), s = !1, n = 30 * r.step; return t.find("li").each(function(i, t){var r = e(t), o = r.data("time") - a; return Math.abs(o) < n || o == n?(s = r, !1):void 0}), s}function c(e, i){i.find("li").removeClass("ui-timepicker-selected"); var t = k(u(e)); if (null !== t){var a = o(e, i, t); if (a){var r = a.offset().top - i.offset().top; (r + a.outerHeight() > i.outerHeight() || 0 > r) && i.scrollTop(i.scrollTop() + a.position().top - a.outerHeight()), a.addClass("ui-timepicker-selected")}}}function l(){if ("" !== this.value){var i = e(this), t = i.data("timepicker-list"); if (!t || !t.is(":visible")){var a = k(this.value); if (null === a)return void i.trigger("timeFormatError"); var r = i.data("timepicker-settings"), s = !1; if (null !== r.minTime && a < r.minTime?s = !0:null !== r.maxTime && a > r.maxTime && (s = !0), e.each(r.disableTimeRanges, function(){return a >= this[0] && a < this[1]?(s = !0, !1):void 0}), r.forceRoundTime){var n = a % (60 * r.step); n >= 30 * r.step?a += 60 * r.step - n:a -= n}var o = h(a, r.timeFormat); s?m(i, o, "error") && i.trigger("timeRangeError"):m(i, o)}}}function u(e){return e.is("input")?e.val():e.data("ui-timepicker-value")}function m(e, i, t){if (e.is("input")){e.val(i); var r = e.data("timepicker-settings"); r.useSelect && e.data("timepicker-list").val(a(i, r))}return e.data("ui-timepicker-value") != i?(e.data("ui-timepicker-value", i), "select" == t?e.trigger("selectTime").trigger("changeTime").trigger("change"):"error" != t && e.trigger("changeTime"), !0):(e.trigger("selectTime"), !1)}function p(i){var t = e(this), a = t.data("timepicker-list"); if (!a || !a.is(":visible")){if (40 != i.keyCode)return!0; n(t) || t.focus()}switch (i.keyCode){case 13:return f(t) && x.hide.apply(this), i.preventDefault(), !1; case 38:var r = a.find(".ui-timepicker-selected"); return r.length?r.is(":first-child") || (r.removeClass("ui-timepicker-selected"), r.prev().addClass("ui-timepicker-selected"), r.prev().position().top < r.outerHeight() && a.scrollTop(a.scrollTop() - r.outerHeight())):(a.find("li").each(function(i, t){return e(t).position().top > 0?(r = e(t), !1):void 0}), r.addClass("ui-timepicker-selected")), !1; case 40:return r = a.find(".ui-timepicker-selected"), 0 === r.length?(a.find("li").each(function(i, t){return e(t).position().top > 0?(r = e(t), !1):void 0}), r.addClass("ui-timepicker-selected")):r.is(":last-child") || (r.removeClass("ui-timepicker-selected"), r.next().addClass("ui-timepicker-selected"), r.next().position().top + 2 * r.outerHeight() > a.outerHeight() && a.scrollTop(a.scrollTop() + r.outerHeight())), !1; case 27:a.find("li").removeClass("ui-timepicker-selected"), x.hide(); break; case 9:x.hide(); break; default:return!0}}function d(i){var t = e(this), a = t.data("timepicker-list"); if (!a || !a.is(":visible"))return!0; if (!t.data("timepicker-settings").typeaheadHighlight)return a.find("li").removeClass("ui-timepicker-selected"), !0; switch (i.keyCode){case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 65:case 77:case 80:case 186:case 8:case 46:c(t, a); break; default:return}}function f(e){var i = e.data("timepicker-settings"), t = e.data("timepicker-list"), a = null, r = t.find(".ui-timepicker-selected"); if (r.hasClass("ui-timepicker-disabled"))return!1; if (r.length?a = r.data("time"):u(e) && (a = k(u(e)), c(e, t)), null !== a){var s = h(a, i.timeFormat); m(e, s, "select")}return!0}function g(e){var i, t = Math.round(e / 60); if (Math.abs(t) < 60)i = [t, w.mins];  else if (60 == t)i = ["1", w.hr];  else{var a = (t / 60).toFixed(1); "." != w.decimal && (a = a.replace(".", w.decimal)), i = [a, w.hrs]}return i.join(" ")}function h(e, i){if (null !== e){var t = new Date(T.valueOf() + 1e3 * e); if (!isNaN(t.getTime())){for (var a, r, s = "", n = 0; n < i.length; n++)switch (r = i.charAt(n)){case"a":s += t.getHours() > 11?"pm":"am"; break; case"A":s += t.getHours() > 11?"PM":"AM"; break; case"g":a = t.getHours() % 12, s += 0 === a?"12":a; break; case"G":s += t.getHours(); break; case"h":a = t.getHours() % 12, 0 !== a && 10 > a && (a = "0" + a), s += 0 === a?"12":a; break; case"H":a = t.getHours(), e === b && (a = 24), s += a > 9?a:"0" + a; break; case"i":var o = t.getMinutes(); s += o > 9?o:"0" + o; break; case"s":e = t.getSeconds(), s += e > 9?e:"0" + e; break; default:s += r}return s}}}function k(e){if ("" === e)return null; if (!e || e + 0 == e)return e; "object" == typeof e && (e = e.getHours() + ":" + v(e.getMinutes()) + ":" + v(e.getSeconds())), e = e.toLowerCase(); var i; new Date(0); if ( - 1 === e.indexOf(":")?(i = e.match(/^([0-9]):?([0-5][0-9])?:?([0-5][0-9])?\s*([pa]?)m?$/), i || (i = e.match(/^([0-2][0-9]):?([0-5][0-9])?:?([0-5][0-9])?\s*([pa]?)m?$/))):i = e.match(/^(\d{1,2})(?::([0-5][0-9]))?(?::([0-5][0-9]))?\s*([pa]?)m?$/), !i)return null; var t, a = parseInt(1 * i[1], 10); t = i[4]?12 == a?"p" == i[4]?12:0:a + ("p" == i[4]?12:0):a; var r = 1 * i[2] || 0, s = 1 * i[3] || 0; return 3600 * t + 60 * r + s}function v(e){return("0" + e).slice( - 2)}var T = r(), b = 86400, y = {className:null, minTime:null, maxTime:null, durationTime:null, step:30, showDuration:!1, timeFormat:"g:ia", scrollDefaultNow:!1, scrollDefaultTime:!1, selectOnBlur:!1, disableTouchKeyboard:!1, forceRoundTime:!1, appendTo:"body", disableTimeRanges:[], closeOnWindowScroll:!1, typeaheadHighlight:!0, noneOption:!1}, w = {decimal:".", mins:"mins", hr:"hr", hrs:"hrs"}, x = {init:function(a){return this.each(function(){var r = e(this), s = []; for (key in y)r.data(key) && (s[key] = r.data(key)); var n = e.extend({}, y, s, a); n.lang && (w = e.extend(w, n.lang)), n = i(n), r.data("timepicker-settings", n), r.addClass("ui-timepicker-input"), n.useSelect?t(r):(r.prop("autocomplete", "off"), r.on("click.timepicker focus.timepicker", x.show), r.on("change.timepicker", l), r.on("keydown.timepicker", p), r.on("keyup.timepicker", d), l.call(r.get(0)))})}, show:function(i){i && i.preventDefault(); var a = e(this), r = a.data("timepicker-settings"); if (r.useSelect)return void a.data("timepicker-list").focus(); n(a) && a.blur(); var c = a.data("timepicker-list"); if (!a.prop("readonly") && (c && 0 !== c.length && "function" != typeof r.durationTime || (t(a), c = a.data("timepicker-list")), !c.is(":visible"))){x.hide(), c.show(), a.offset().top + a.outerHeight(!0) + c.outerHeight() > e(window).height() + e(window).scrollTop()?c.offset({left:a.offset().left + parseInt(c.css("marginLeft").replace("px", ""), 10), top:a.offset().top - c.outerHeight() + parseInt(c.css("marginTop").replace("px", ""), 10)}):c.offset({left:a.offset().left + parseInt(c.css("marginLeft").replace("px", ""), 10), top:a.offset().top + a.outerHeight() + parseInt(c.css("marginTop").replace("px", ""), 10)}); var l = c.find(".ui-timepicker-selected"); if (l.length || (u(a)?l = o(a, c, k(u(a))):r.scrollDefaultNow?l = o(a, c, k(new Date)):r.scrollDefaultTime !== !1 && (l = o(a, c, k(r.scrollDefaultTime)))), l && l.length){var m = c.scrollTop() + l.position().top - l.outerHeight(); c.scrollTop(m)} else c.scrollTop(0); e(document).on("touchstart.ui-timepicker mousedown.ui-timepicker", s), r.closeOnWindowScroll && e(document).on("scroll.ui-timepicker", s), a.trigger("showTimepicker")}}, hide:function(i){var t = e(this), a = t.data("timepicker-settings"); a && a.useSelect && t.blur(), e(".ui-timepicker-wrapper:visible").each(function(){var i = e(this), t = i.data("timepicker-input"), a = t.data("timepicker-settings"); a && a.selectOnBlur && f(t), i.hide(), t.trigger("hideTimepicker")})}, option:function(a, r){var s = this, n = s.data("timepicker-settings"), o = s.data("timepicker-list"); if ("object" == typeof a)n = e.extend(n, a);  else if ("string" == typeof a && "undefined" != typeof r)n[a] = r;  else if ("string" == typeof a)return n[a]; return n = i(n), s.data("timepicker-settings", n), o && (o.remove(), s.data("timepicker-list", !1)), n.useSelect && t(s), s}, getSecondsFromMidnight:function(){return k(u(this))}, getTime:function(e){var i = this, t = u(i); return t?(e || (e = new Date), e.setHours(0, 0, 0, 0), new Date(e.valueOf() + 1e3 * k(t))):null}, setTime:function(e){var i = this, t = h(k(e), i.data("timepicker-settings").timeFormat); m(i, t), i.data("timepicker-list") && c(i, i.data("timepicker-list"))}, remove:function(){var e = this; e.hasClass("ui-timepicker-input") && (e.removeAttr("autocomplete", "off"), e.removeClass("ui-timepicker-input"), e.removeData("timepicker-settings"), e.off(".timepicker"), e.data("timepicker-list") && e.data("timepicker-list").remove(), e.removeData("timepicker-list"))}}; e.fn.timepicker = function(i){return x[i]?x[i].apply(this, Array.prototype.slice.call(arguments, 1)):"object" != typeof i && i?void e.error("Method " + i + " does not exist on jQuery.timepicker"):x.init.apply(this, arguments)}});