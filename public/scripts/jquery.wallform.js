!function(e){function t(){var e = "[jquery.form] " + Array.prototype.join.call(arguments, ""); window.console && window.console.log?window.console.log(e):window.opera && window.opera.postError && window.opera.postError(e)}e.fn.ajaxSubmit = function(r){function a(a){function i(e){var t = e.contentWindow?e.contentWindow.document:e.contentDocument?e.contentDocument:e.document; return t}function o(){function r(){try{var e = i(v).readyState; t("state = " + e), "uninitialized" == e.toLowerCase() && setTimeout(r, 50)} catch (a){t("Server abort: ", a, " (", a.name, ")"), u(j), y && clearTimeout(y), y = void 0}}var a = s.attr("target"), o = s.attr("action"); T.setAttribute("target", d), n || T.setAttribute("method", "POST"), o != f.url && T.setAttribute("action", f.url), f.skipEncodingOverride || n && !/post/i.test(n) || s.attr({encoding:"multipart/form-data", enctype:"multipart/form-data"}), f.timeout && (y = setTimeout(function(){x = !0, u(w)}, f.timeout)); var l = []; try{if (f.extraData)for (var c in f.extraData)l.push(e('<input type="hidden" name="' + c + '" />').attr("value", f.extraData[c]).appendTo(T)[0]); f.iframeTarget || (p.appendTo("body"), v.attachEvent?v.attachEvent("onload", u):v.addEventListener("load", u, !1)), setTimeout(r, 15), T.submit()} finally{T.setAttribute("action", o), a?T.setAttribute("target", a):s.removeAttr("target"), e(l).remove()}}function u(r){if (!h.aborted && !A){try{L = i(v)} catch (a){t("cannot access response document: ", a), r = j}if (r === w && h)return void h.abort("timeout"); if (r == j && h)return void h.abort("server abort"); if (L && L.location.href != f.iframeSrc || x){v.detachEvent?v.detachEvent("onload", u):v.removeEventListener("load", u, !1); var n, o = "success"; try{if (x)throw"timeout"; var s = "xml" == f.dataType || L.XMLDocument || e.isXMLDoc(L); if (t("isXml=" + s), !s && window.opera && (null == L.body || "" == L.body.innerHTML) && --D)return t("requeing onLoad callback, DOM not available"), void setTimeout(u, 250); var l = L.body?L.body:L.documentElement; h.responseText = l?l.innerHTML:null, h.responseXML = L.XMLDocument?L.XMLDocument:L, s && (f.dataType = "xml"), h.getResponseHeader = function(e){var t = {"content-type":f.dataType}; return t[e]}, l && (h.status = Number(l.getAttribute("status")) || h.status, h.statusText = l.getAttribute("statusText") || h.statusText); var c = f.dataType || "", d = /(json|script|text)/.test(c.toLowerCase()); if (d || f.textarea){var g = L.getElementsByTagName("textarea")[0]; if (g)h.responseText = g.value, h.status = Number(g.getAttribute("status")) || h.status, h.statusText = g.getAttribute("statusText") || h.statusText;  else if (d){var b = L.getElementsByTagName("pre")[0], T = L.getElementsByTagName("body")[0]; b?h.responseText = b.textContent?b.textContent:b.innerHTML:T && (h.responseText = T.innerHTML)}} else"xml" != f.dataType || h.responseXML || null == h.responseText || (h.responseXML = E(h.responseText)); try{S = X(h, f.dataType, f)} catch (r){o = "parsererror", h.error = n = r || o}} catch (r){t("error caught: ", r), o = "error", h.error = n = r || o}h.aborted && (t("upload aborted"), o = null), h.status && (o = h.status >= 200 && h.status < 300 || 304 === h.status?"success":"error"), "success" === o?(f.success && f.success.call(f.context, S, "success", h), m && e.event.trigger("ajaxSuccess", [h, f])):o && (void 0 == n && (n = h.statusText), f.error && f.error.call(f.context, h, o, n), m && e.event.trigger("ajaxError", [h, f, n])), m && e.event.trigger("ajaxComplete", [h, f]), m && !--e.active && e.event.trigger("ajaxStop"), f.complete && f.complete.call(f.context, h, o), A = !0, f.timeout && clearTimeout(y), setTimeout(function(){f.iframeTarget || p.remove(), h.responseXML = null}, 100)}}}var l, c, f, m, d, p, v, h, g, b, x, y, T = s[0], k = !!e.fn.prop; if (a)for (c = 0; c < a.length; c++)l = e(T[a[c].name]), l[k?"prop":"attr"]("disabled", !1); if (e(":input[name=submit],:input[id=submit]", T).length)return void alert('Error: Form elements must not have name or id of "submit".'); if (f = e.extend(!0, {}, e.ajaxSettings, r), f.context = f.context || f, d = "jqFormIO" + (new Date).getTime(), f.iframeTarget?(p = e(f.iframeTarget), b = p.attr("name"), null == b?p.attr("name", d):d = b):(p = e('<iframe name="' + d + '" src="' + f.iframeSrc + '" />'), p.css({position:"absolute", top:"-1000px", left:"-1000px"})), v = p[0], h = {aborted:0, responseText:null, responseXML:null, status:0, statusText:"n/a", getAllResponseHeaders:function(){}, getResponseHeader:function(){}, setRequestHeader:function(){}, abort:function(r){var a = "timeout" === r?"timeout":"aborted"; t("aborting upload... " + a), this.aborted = 1, p.attr("src", f.iframeSrc), h.error = a, f.error && f.error.call(f.context, h, a, r), m && e.event.trigger("ajaxError", [h, f, a]), f.complete && f.complete.call(f.context, h, a)}}, m = f.global, m && !e.active++ && e.event.trigger("ajaxStart"), m && e.event.trigger("ajaxSend", [h, f]), f.beforeSend && f.beforeSend.call(f.context, h, f) === !1)return void(f.global && e.active--); if (!h.aborted){g = T.clk, g && (b = g.name, b && !g.disabled && (f.extraData = f.extraData || {}, f.extraData[b] = g.value, "image" == g.type && (f.extraData[b + ".x"] = T.clk_x, f.extraData[b + ".y"] = T.clk_y))); var w = 1, j = 2; f.forceSync?o():setTimeout(o, 10); var S, L, A, D = 50, E = e.parseXML || function(e, t){return window.ActiveXObject?(t = new ActiveXObject("Microsoft.XMLDOM"), t.async = "false", t.loadXML(e)):t = (new DOMParser).parseFromString(e, "text/xml"), t && t.documentElement && "parsererror" != t.documentElement.nodeName?t:null}, M = e.parseJSON || function(e){return window.eval("(" + e + ")")}, X = function(t, a, n){var i = t.getResponseHeader("content-type") || "", o = "xml" === a || !a && i.indexOf("xml") >= 0, s = o?t.responseXML:t.responseText; o && "parsererror" === s.documentElement.nodeName && e.error && e.error("parsererror"), n && n.dataFilter && (s = n.dataFilter(s, a)), "string" == typeof s && ("json" === a || !a && i.indexOf("json") >= 0?s = M(s):("script" === a || !a && i.indexOf("javascript") >= 0) && e.globalEval(s)); var u = /<img[^>]+>/i; expResult = s.match(u), null == expResult || e(r.target).prepend(s), e("#galleryImg").val("")}}}if (!this.length)return t("ajaxSubmit: skipping submit process - no element selected"), this; var n, i, o, s = this; "function" == typeof r && (r = {success:r}), n = this.attr("method"), i = this.attr("action"), o = "string" == typeof i?e.trim(i):"", o = o || window.location.href || "", o && (o = (o.match(/^([^#]+)/) || [])[1]), r = e.extend(!0, {url:o, success:e.ajaxSettings.success, type:n || "GET", iframeSrc:/^https/i.test(window.location.href || "")?"javascript:false":"about:blank"}, r); var u = {}; if (this.trigger("form-pre-serialize", [this, r, u]), u.veto)return t("ajaxSubmit: submit vetoed via form-pre-serialize trigger"), this; if (r.beforeSerialize && r.beforeSerialize(this, r) === !1)return t("ajaxSubmit: submit aborted via beforeSerialize callback"), this; var l, c, f = this.formToArray(r.semantic); if (r.data){r.extraData = r.data; for (l in r.data)if (e.isArray(r.data[l]))for (var m in r.data[l])f.push({name:l, value:r.data[l][m]});  else c = r.data[l], c = e.isFunction(c)?c():c, f.push({name:l, value:c})}if (r.beforeSubmit && r.beforeSubmit(f, this, r) === !1)return t("ajaxSubmit: submit aborted via beforeSubmit callback"), this; if (this.trigger("form-submit-validate", [f, this, r, u]), u.veto)return t("ajaxSubmit: submit vetoed via form-submit-validate trigger"), this; var d = e.param(f); "GET" == r.type.toUpperCase()?(r.url += (r.url.indexOf("?") >= 0?"&":"?") + d, r.data = null):r.data = d; var p = []; if (r.resetForm && p.push(function(){s.resetForm()}), r.clearForm && p.push(function(){s.clearForm()}), !r.dataType && r.target){var v = r.success || function(){}; p.push(function(t){var a = r.replaceTarget?"replaceWith":"html"; e(r.target)[a](t).each(v, arguments)})} else r.success && p.push(r.success); r.success = function(e, t, a){for (var n = r.context || r, i = 0, o = p.length; o > i; i++)p[i].apply(n, [e, t, a || s, s])}; var h = e("input:file", this).length > 0, g = "multipart/form-data", b = s.attr("enctype") == g || s.attr("encoding") == g; if (r.iframe !== !1 && (h || r.iframe || b))r.closeKeepAlive?e.get(r.closeKeepAlive, function(){a(f)}):a(f);  else{if (e.browser.msie && "get" == n){var x = s[0].getAttribute("method"); "string" == typeof x && (r.type = x)}e.ajax(r)}return this.trigger("form-submit-notify", [this, r]), this}, e.fn.ajaxForm = function(r){if (0 === this.length){var a = {s:this.selector, c:this.context}; return!e.isReady && a.s?(t("DOM not ready, queuing ajaxForm"), e(function(){e(a.s, a.c).ajaxForm(r)}), this):(t("terminating; zero elements found by selector" + (e.isReady?"":" (DOM not ready)")), this)}return this.ajaxFormUnbind().bind("submit.form-plugin", function(t){t.isDefaultPrevented() || (t.preventDefault(), e(this).ajaxSubmit(r))}).bind("click.form-plugin", function(t){var r = t.target, a = e(r); if (!a.is(":submit,input:image")){var n = a.closest(":submit"); if (0 == n.length)return; r = n[0]}var i = this; if (i.clk = r, "image" == r.type)if (void 0 != t.offsetX)i.clk_x = t.offsetX, i.clk_y = t.offsetY;  else if ("function" == typeof e.fn.offset){var o = a.offset(); i.clk_x = t.pageX - o.left, i.clk_y = t.pageY - o.top} else i.clk_x = t.pageX - r.offsetLeft, i.clk_y = t.pageY - r.offsetTop; setTimeout(function(){i.clk = i.clk_x = i.clk_y = null}, 100)})}, e.fn.ajaxFormUnbind = function(){return this.unbind("submit.form-plugin click.form-plugin")}, e.fn.formToArray = function(t){var r = []; if (0 === this.length)return r; var a = this[0], n = t?a.getElementsByTagName("*"):a.elements; if (!n)return r; var i, o, s, u, l, c, f; for (i = 0, c = n.length; c > i; i++)if (l = n[i], s = l.name)if (t && a.clk && "image" == l.type)l.disabled || a.clk != l || (r.push({name:s, value:e(l).val()}), r.push({name:s + ".x", value:a.clk_x}, {name:s + ".y", value:a.clk_y}));  else if (u = e.fieldValue(l, !0), u && u.constructor == Array)for (o = 0, f = u.length; f > o; o++)r.push({name:s, value:u[o]});  else null !== u && "undefined" != typeof u && r.push({name:s, value:u}); if (!t && a.clk){var m = e(a.clk), d = m[0]; s = d.name, s && !d.disabled && "image" == d.type && (r.push({name:s, value:m.val()}), r.push({name:s + ".x", value:a.clk_x}, {name:s + ".y", value:a.clk_y}))}return r}, e.fn.formSerialize = function(t){return e.param(this.formToArray(t))}, e.fn.fieldSerialize = function(t){var r = []; return this.each(function(){var a = this.name; if (a){var n = e.fieldValue(this, t); if (n && n.constructor == Array)for (var i = 0, o = n.length; o > i; i++)r.push({name:a, value:n[i]});  else null !== n && "undefined" != typeof n && r.push({name:this.name, value:n})}}), e.param(r)}, e.fn.fieldValue = function(t){for (var r = [], a = 0, n = this.length; n > a; a++){var i = this[a], o = e.fieldValue(i, t); null === o || "undefined" == typeof o || o.constructor == Array && !o.length || (o.constructor == Array?e.merge(r, o):r.push(o))}return r}, e.fieldValue = function(t, r){var a = t.name, n = t.type, i = t.tagName.toLowerCase(); if (void 0 === r && (r = !0), r && (!a || t.disabled || "reset" == n || "button" == n || ("checkbox" == n || "radio" == n) && !t.checked || ("submit" == n || "image" == n) && t.form && t.form.clk != t || "select" == i && - 1 == t.selectedIndex))return null; if ("select" == i){var o = t.selectedIndex; if (0 > o)return null; for (var s = [], u = t.options, l = "select-one" == n, c = l?o + 1:u.length, f = l?o:0; c > f; f++){var m = u[f]; if (m.selected){var d = m.value; if (d || (d = m.attributes && m.attributes.value && !m.attributes.value.specified?m.text:m.value), l)return d; s.push(d)}}return s}return e(t).val()}, e.fn.clearForm = function(){return this.each(function(){e("input,select,textarea", this).clearFields()})}, e.fn.clearFields = e.fn.clearInputs = function(){var e = /^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i; return this.each(function(){var t = this.type, r = this.tagName.toLowerCase(); e.test(t) || "textarea" == r?this.value = "":"checkbox" == t || "radio" == t?this.checked = !1:"select" == r && (this.selectedIndex = - 1)})}, e.fn.resetForm = function(){return this.each(function(){("function" == typeof this.reset || "object" == typeof this.reset && !this.reset.nodeType) && this.reset()})}, e.fn.enable = function(e){return void 0 === e && (e = !0), this.each(function(){this.disabled = !e})}, e.fn.selected = function(t){return void 0 === t && (t = !0), this.each(function(){var r = this.type; if ("checkbox" == r || "radio" == r)this.checked = t;  else if ("option" == this.tagName.toLowerCase()){var a = e(this).parent("select"); t && a[0] && "select-one" == a[0].type && a.find("option").selected(!1), this.selected = t}})}, e("#headerLoader").hide()}(jQuery);